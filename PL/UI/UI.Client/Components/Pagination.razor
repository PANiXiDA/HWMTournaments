@typeparam TDTO
@typeparam TSearchParams where TSearchParams : BaseSearchParams, new()

@if (TotalPages > 1)
{
    <nav aria-label="Пагинация" class="d-flex align-items-center gap-3">
        <ul class="pagination mb-0">
            <li class="page-item @(IsFirst ? "disabled" : "")">
                <a class="page-link" href="#"
                   @onclick="() => Go(SearchResult.RequestedPage - 1)"
                   @onclick:preventDefault @onclick:stopPropagation>
                    ‹
                </a>
            </li>

            @foreach (var visiblePage in VisiblePages)
            {
                @if (!visiblePage.HasValue)
                {
                    <li class="page-item disabled ellipsis">
                        <span class="page-link">…</span>
                    </li>
                }
                else
                {
                    <li class="page-item @(visiblePage.Value == SearchResult.RequestedPage ? "active" : "")">
                        <a class="page-link" href="#"
                           @onclick="() => Go(visiblePage.Value)"
                           @onclick:preventDefault @onclick:stopPropagation>
                            @visiblePage.Value
                        </a>
                    </li>
                }
            }

            <li class="page-item @(IsLast ? "disabled" : "")">
                <a class="page-link" href="#"
                   @onclick="() => Go(SearchResult.RequestedPage + 1)"
                   @onclick:preventDefault @onclick:stopPropagation>
                    ›
                </a>
            </li>
        </ul>
    </nav>
}