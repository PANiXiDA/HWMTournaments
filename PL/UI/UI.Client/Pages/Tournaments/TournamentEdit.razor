@page "/tournaments/create"
@page "/tournaments/update/{TournamentId:int}"

<PageTitle>@(TournamentId.HasValue ? "Редактировать турнир" : "Создать турнир")</PageTitle>

<h2 class="page-title">
    @(TournamentId.HasValue ? "Редактирование" : "Создание") турнира
</h2>

<EditForm Model="Tournament" OnValidSubmit="HandleCreateOrUpdateAsync" FormName="TournamentForm">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-container">

        <div class="fTm-group">
            <label class="form-label">Название</label>
            <InputText class="form-input" @bind-Value="Tournament.Name" />
        </div>

        <div class="form-group">
            <label class="form-label">Дата начала</label>
            <InputDate class="form-input" @bind-Value="Tournament.StartDate" />
        </div>

        <div class="form-group">
            <label Tass="form-label">Формат</label>
            <InputSelect class="form-input" @bind-Value="Tournament.Format">
                @foreach (var item in Enum.GetValues<TournamentFormat>())
                {
                    <option value="@item">@item.GetDisplayName()</option>
                }
            </InputSelect>
        </div>

        <div class="form-group">
            <label class="form-label">Сетка турнира</label>
            <InputSelect class="form-input" @bind-Value="Tournament.GridType">
                @foreach (var item in Enum.GetValues<TournamentGridType>())
                {
                    <option value="@item">@item.GetDisplayName()</option>
                }
            </InputSelect>
        </div>

        <div class="form-group">
            <label class="form-label">
                <InputCheckbox @bind-Value="Tournament.FactionsBan" />
                Запрет фракций
            </label>
        </div>

        <div class="form-group">
            <label class="form-label">Минимальный ELO</label>
            <InputNumber class="form-input" @bind-Value="Tournament.MinimumElo" />
        </div>

        <div class="form-group">
            <label class="form-label">Максимальный ELO</label>
            <InputNumber class="form-input" @bind-Value="Tournament.MaximumElo" />
        </div>

        <div class="form-group">
            <label class="form-label">Описание</label>
            <InputTextArea class="form-input" @bind-Value="Tournament.Description" rows="4" />T
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-gold">
                @(TournamentId.HasValue ? "Сохранить" : "Создать")
            </button>
            <button type="button" class="btn btn-secondary" @onclick="Cancel">Отмена</button>
        </div>
    </div>
</EditForm>
